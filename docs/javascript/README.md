# 函数 & 变量 &声明提升
```
Js代码分为两个阶段：编译阶段和执行阶段

Js代码的编译阶段会找到所有的声明，并用合适的作用域将它们关联起来。

包括变量声明(var a)和函数声明(function a(){})在内的所有声明都会在代码被执行前的编译阶段首先被处理。
这个过程就好像变量声明和函数声明从他们代码中出现的位置被添加到最近执行环境的顶部，这个过程就叫做提升（hoisting）。

只有声明操作会被提升，赋值和逻辑操作会被留在原地等待执行。
```
## 变量声明提升
```
var a = 1;
var b = 2;
```
编译时，顺序如下：
```
var a;    //undefined
var b;    //undefined
a = 1;    //1
b = 2;    //2
```

## 函数声明3种方式
### 1. 函数表达式
- 将函数定义为表达式语句（变量赋值，或，自调用形式）
- 命名，或，匿名函数
- 函数表达式存储在变量，或，对象属性中
- （其实就是变量声明的一种，声明操作会被提升到执行环境顶部，并赋值undefined。赋值操作被留在原地等到执行）
- 函数末尾有一个分号
```
var f = function() {
      console.log(1);  
}
```

### 2. 函数声明
- 具名函数
- function开头
- 进行变量提升，作用域内可以任意位置调用
- （在编译阶段把声明和函数体整体都提前到执行环境顶部，所以我们可以在函数声明之前调用这个函数）
```
function f (){
     console.log(2);
}
```

### 3. Function()构造器
- 使用Function()构造器函数
- 会导致解析两次代码（第一次是解析常规的ES代码，第二次是解析传入构造函数中的字符串），从而影响性能
- “ 函数是对象，函数名是指针 ”
- 不推荐
```
var sum = new Function("num1","num2","return num1 + num2");   
sum(2,3);

```
# 总结：声明的顺序：
1. 找到所有的函数声明，初始化函数体，如有同名的函数则会进行覆盖。
2. 查找变量声明，初始化为undefined，如果已经存在同名的变量，就什么也不做直接略过。